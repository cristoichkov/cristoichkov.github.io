<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Funciones </title>
  <meta name="description" content="Soy candidato a Doctor en Ciencias Biológicas en el Jardín Botánico del IB-UNAM bajo la tutoría del Dr. Salvador Arias. Mi proyecto tiene como objetivo principal establecer los límites taxonómicos al interior de Mammillaria haageana y entre especies de la serie Supertextae. A lo largo de mi formación académica desarrolle un interés particular en la ciencia de datos y me he especializado específicamente en el programa R, por ello en este sitio web encontrarás apuntes sobre el manejo y uso de R.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Funciones" />
<meta property="og:description" content="Los tibbles fueron creados para modificar características antiguas de los data frames que son objetos de la base de R." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cristoichkov.github.io/apuntes_R/funcion/" />
<meta property="article:published_time" content="2020-06-06T09:00:00+00:00" />
<meta property="article:modified_time" content="2020-06-06T09:00:00+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Funciones"/>
<meta name="twitter:description" content="Los tibbles fueron creados para modificar características antiguas de los data frames que son objetos de la base de R."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://cristoichkov.github.io/css/style-white.css">
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://cristoichkov.github.io/images/favicon.ico" />

  
  
  
</head>
<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Inicio</a></li>
         
        <li><a href="/apuntes_R">Apuntes sobre R</a></li>
         
        <li><a href="/temas">Temas</a></li>
         
        <li><a href="/conoceme">Conóceme</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://cristoichkov.github.io/posts/2020-05-01-algorithms-graphs/">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fcristoichkov.github.io%2fapuntes_R%2fmatrices%2f">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fcristoichkov.github.io%2fapuntes_R%2fmatrices%2f&text=Matrices">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents"></nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Funciones
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2020-09-20 09:00:00 &#43;0000 UTC" itemprop="datePublished">2020-11-16</time>
          
        </div>
        
          <!--
        <div class="article-category">
            <i class="fas fa-archive"></i>
            
            
            <a class="category-link" href="/categories/notes">notes</a>
            
        </div>
        -->
        
          
          <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/temas/funcion/" rel="tag">Funciones</a>
            
        </div> 
        
      </div>
    </header>

  
    <div class="content" itemprop="articleBody">
        
 <p>Crear funciones propias nos puede ayudar a:</p>
        
        <ul>
            <li>Evitar repeticiones de código: siempre que se utilice copiar y pegar, es una buena indicación de que debería pensar en escribir una función. </li>
            
            <li>Facilitar la reutilización: siempre que se deban usar fragmentos de código similares en diferentes partes del código, o incluso en diferentes scripts/proyectos. </li>
            
            <li>Imponer estructura: las funciones le ayudan a estructurar su código y evitar scripts largos y/o complejos. </li>
            
            <li>Facilitar la depuración: permite un control de calidad exhaustivo para partes importantes del código (probar su función para asegurarse de que funcionan como se espera). </li>
        
        </ul>
        
        
<b><p> Componentes de una función  </p></b>
    
<code>mifuncion &#60&#45 function(argumento1, argumento2, ...) { <br>  &nbsp cuerpo <br>  &nbsp retorno <br> } </code>
        
        <ul>
            
            <li>Nombre de la función: este es el nombre real de la función. Se almacena en el entorno R como un objeto con este nombre.</li>
            
            <li>Argumentos: Cuando se invoca una función, se pasa un valor al argumento. Los argumentos son opcionales; es decir, una función puede no contener argumentos. Además, los argumentos pueden tener valores predeterminados.</li>
            
            <li>Cuerpo de la función: el cuerpo de la función contiene una colección de declaraciones que define lo que hace la función.</li>
            
            <li> Valor de retorno: el valor de retorno de una función es la última expresión en el cuerpo de la función que se evaluará.</li>
    
    
        </ul>        
        
       
<div class="highlight"><pre style="color:#f8f8f2;background-color:#2f3445;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#a5a6aa">## Crear una fuincion para sumar dos numeros</span>
<span style="color:#ffffff">mi_suma</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#d887b4">function</span><span style="color:#c05c30">(</span><span style="color:#ffffff">x</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">y</span><span style="color:#c05c30">)</span><span style="color:#c05c30">{</span>
    <span style="color:#ffffff">x</span> <span style="color:#7fa7bb">+</span> <span style="color:#ffffff">y</span>
<span style="color:#c05c30">}</span>
<span style="color:#a5a6aa">## Probamos la funcion sumando 3 + 7</span>
<span style="color:#ffffff">mi_suma</span><span style="color:#c05c30">(</span><span style="color:#bdad6e">3</span><span style="color:#ffffff">,</span> <span style="color:#bdad6e">7</span><span style="color:#c05c30">)</span>
</code></pre></div>

<p>En el ejemplo anterior solo se ejecutó una operación dentro de la función, por lo cual, el resultado aparecerá sin necesidad de pedir el retorno del resultado. </p>        
         
<p>Si existen más de dos operaciones dentro de la función será necesario decirle cual o cuales resultados tiene que devolver con la función <b><code>return()</code></b>.  </p>   
        
        
<div class="highlight"><pre style="color:#f8f8f2;background-color:#2f3445;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#a5a6aa">## Crear una fuincion para sumar dos numeros y elevar al cuadrado el reultado</span>
<span style="color:#ffffff">mi_suma</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#d887b4">function</span><span style="color:#c05c30">(</span><span style="color:#ffffff">x</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">y</span><span style="color:#c05c30">)</span><span style="color:#c05c30">{</span>
    <span style="color:#a5a6aa">## Sumar dos numeros</span>
    <span style="color:#ffffff">suma</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#ffffff">x</span> <span style="color:#7fa7bb">+</span> <span style="color:#ffffff">y</span>
    <span style="color:#a5a6aa">## Elevear al cuadrado el resultado de la suma</span>
    <span style="color:#ffffff">cuadrado</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#ffffff">suma</span><span style="color:#7fa7bb">^</span><span style="color:#bdad6e">2</span>
    <span style="color:#a5a6aa">## Que devuelva el resultado de las dos opreaciones suma y cuadrado</span>
    <span style="color:#d887b4">return</span><span style="color:#c05c30">(</span><span style="color:#ffffff">c</span><span style="color:#c05c30">(</span><span style="color:#ffffff">suma</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">cuadrado</span><span style="color:#c05c30">)</span><span style="color:#c05c30">)</span>
<span style="color:#c05c30">}</span>
<span style="color:#a5a6aa">## Probamos la funcion sumando 3 + 7</span>
<span style="color:#ffffff">mi_suma</span><span style="color:#c05c30">(</span><span style="color:#bdad6e">3</span><span style="color:#ffffff">,</span> <span style="color:#bdad6e">7</span><span style="color:#c05c30">)</span>
</code></pre></div>
        
<p>También se puede utilizar texto en los argumentos y combinarlo con el resultado numérico, esto se realiza utilizando la función <b><code>paste()</code></b> (con espacio) o <b><code>paste0()</code></b>  (sin espacio) para pegar el texto con un número y la función <b><code>print()</code></b>  para mostrar el resultado. </p>        

<div class="highlight"><pre style="color:#f8f8f2;background-color:#2f3445;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#a5a6aa">## Crear una fuincion para sumar dos numeros y elevar al cuadrado el reultado</span>
<span style="color:#ffffff">mi_suma</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#d887b4">function</span><span style="color:#c05c30">(</span><span style="color:#ffffff">mensaje</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">x</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">y</span><span style="color:#c05c30">)</span><span style="color:#c05c30">{</span>
    <span style="color:#a5a6aa">## Sumar dos numeros</span>
    <span style="color:#ffffff">suma</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#ffffff">x</span> <span style="color:#7fa7bb">+</span> <span style="color:#ffffff">y</span>
    <span style="color:#a5a6aa">## Que devuelva el mensaje y el resultado de la suma</span>
    <span style="color:#d887b4">print</span><span style="color:#c05c30">(</span><span style="color:#ffffff">paste</span><span style="color:#c05c30">(</span><span style="color:#ffffff">mensaje</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">suma</span><span style="color:#c05c30">)</span><span style="color:#c05c30">)</span>
<span style="color:#c05c30">}</span>
<span style="color:#a5a6aa">## Probamos la funcion sumando 3 + 7</span>
<span style="color:#ffffff">mi_suma</span><span style="color:#c05c30">(</span><span style="color:#bdad6e">"El resultado es"</span><span style="color:#ffffff">,</span> <span style="color:#bdad6e">3</span><span style="color:#ffffff">,</span> <span style="color:#bdad6e">7</span><span style="color:#c05c30">)</span>
</code></pre></div>
        
        
<b><p>Ecuación de segundo grado, "la fórmula chicharronera".</p></b>
        
<p>Consideremos la ecuación general de segundo grado (ecuación cuadrática) que tiene la forma:</p>        
        
<img src="../../images/eciacion.png" width="190">     
        
<p>podemos encontrar sus raíces mediante el método de factorización; si no, se utiliza la fórmula general o también llamada, “la chicharronera”:</p>
        
<img src="../../images/FormulaGeneral.png" width="240">  

<p>Crear una función que calcule las raíces a partir de "la fórmula chicharronera"</p>       
        

<div class="highlight"><pre style="color:#f8f8f2;background-color:#2f3445;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#a5a6aa">## Funcion "chicharronera" </span>
<span style="color:#ffffff">chicharronera</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#d887b4">function</span><span style="color:#c05c30">(</span><span style="color:#ffffff">a</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">b</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">c</span><span style="color:#c05c30">)</span><span style="color:#c05c30">{</span>
    <span style="color:#ffffff">x1</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#c05c30">(</span><span style="color:#c05c30">(</span><span style="color:#7fa7bb">-</span><span style="color:#ffffff">b</span><span style="color:#c05c30">)</span> <span style="color:#7fa7bb">+</span> <span style="color:#ffffff">sqrt</span><span style="color:#c05c30">(</span><span style="color:#c05c30">(</span><span style="color:#ffffff">b</span><span style="color:#7fa7bb">^</span><span style="color:#bdad6e">2</span><span style="color:#c05c30">)</span> <span style="color:#7fa7bb">-</span> <span style="color:#c05c30">(</span><span style="color:#bdad6e">4</span><span style="color:#7fa7bb">*</span><span style="color:#ffffff">a</span><span style="color:#7fa7bb">*</span><span style="color:#ffffff">c</span><span style="color:#c05c30">)</span><span style="color:#c05c30">)</span><span style="color:#c05c30">)</span> <span style="color:#7fa7bb">/</span> <span style="color:#c05c30">(</span><span style="color:#bdad6e">2</span><span style="color:#7fa7bb">*</span><span style="color:#ffffff">a</span><span style="color:#c05c30">)</span>
    <span style="color:#ffffff">x2</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#c05c30">(</span><span style="color:#c05c30">(</span><span style="color:#7fa7bb">-</span><span style="color:#ffffff">b</span><span style="color:#c05c30">)</span> <span style="color:#7fa7bb">-</span> <span style="color:#ffffff">sqrt</span><span style="color:#c05c30">(</span><span style="color:#c05c30">(</span><span style="color:#ffffff">b</span><span style="color:#7fa7bb">^</span><span style="color:#bdad6e">2</span><span style="color:#c05c30">)</span> <span style="color:#7fa7bb">-</span> <span style="color:#c05c30">(</span><span style="color:#bdad6e">4</span><span style="color:#7fa7bb">*</span><span style="color:#ffffff">a</span><span style="color:#7fa7bb">*</span><span style="color:#ffffff">c</span><span style="color:#c05c30">)</span><span style="color:#c05c30">)</span><span style="color:#c05c30">)</span> <span style="color:#7fa7bb">/</span> <span style="color:#c05c30">(</span><span style="color:#bdad6e">2</span><span style="color:#7fa7bb">*</span><span style="color:#ffffff">a</span><span style="color:#c05c30">)</span>
    <span style="color:#d887b4">print</span><span style="color:#c05c30">(</span><span style="color:#ffffff">paste</span><span style="color:#c05c30">(</span><span style="color:#bdad6e">"X1 ="</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">x1</span><span style="color:#c05c30">)</span><span style="color:#c05c30">)</span>
    <span style="color:#d887b4">print</span><span style="color:#c05c30">(</span><span style="color:#ffffff">paste</span><span style="color:#c05c30">(</span><span style="color:#bdad6e">"X2 ="</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">x2</span><span style="color:#c05c30">)</span><span style="color:#c05c30">)</span>
<span style="color:#c05c30">}</span>    
</code></pre></div>
    
    <p>Encontrar las  raíces de la siguiente ecuación utilizando la función <b><code>chicharronera()</code></b>. </p>  
        
<div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" style="text-align: center;"><nobr><span class="math" id="MathJax-Span-14" style="width: 9.608em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.857em; height: 0px; font-size: 200%;"><span style="position: absolute; clip: rect(1.112em, 1007.82em, 2.35em, -999.998em); top: -2.132em; left: 0em;"><span class="mrow" id="MathJax-Span-15"><span class="mn" id="MathJax-Span-16" style="font-family: MathJax_Main;">3</span><span class="msubsup" id="MathJax-Span-17"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px;"><span style="position: absolute; clip: rect(3.46em, 1000.51em, 4.143em, -999.998em); top: -4.011em; left: 0em;"><span class="mi" id="MathJax-Span-18" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.015em;"></span></span><span style="position: absolute; top: -4.438em; left: 0.557em;"><span class="texatom" id="MathJax-Span-19"><span class="mrow" id="MathJax-Span-20"><span class="mn" id="MathJax-Span-21" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.015em;"></span></span></span></span><span class="mo" id="MathJax-Span-22" style="font-family: MathJax_Main; padding-left: 0.216em;">−</span><span class="mn" id="MathJax-Span-23" style="font-family: MathJax_Main; padding-left: 0.216em;">11</span><span class="mi" id="MathJax-Span-24" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-25" style="font-family: MathJax_Main; padding-left: 0.216em;">−</span><span class="mn" id="MathJax-Span-26" style="font-family: MathJax_Main; padding-left: 0.216em;">4</span><span class="mo" id="MathJax-Span-27" style="font-family: MathJax_Main; padding-left: 0.301em;">=</span><span class="mn" id="MathJax-Span-28" style="font-family: MathJax_Main; padding-left: 0.301em;">0</span></span><span style="display: inline-block; width: 0px; height: 2.137em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.154em; border-left: 0px solid; width: 0px; height: 1.305em;"></span></span></nobr></span></div>    
        
               
 <div class="highlight"><pre style="color:#f8f8f2;background-color:#2f3445;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#a5a6aa">## Encontrar las raices de la ecuacion cuadratica anterior </span>
<span style="color:#ffffff">a</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#bdad6e">3</span>
<span style="color:#ffffff">b</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#bdad6e">-11</span>
<span style="color:#ffffff">c</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#bdad6e">-4</span>
<span style="color:#ffffff">chicharronera</span><span style="color:#c05c30">(</span><span style="color:#ffffff">a</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">b</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">c</span><span style="color:#c05c30">)</span>
</code></pre></div>       
        
 <b><p>Como crear funciones con los paquetes de <b><code>Tydiverse</code></b>.</p></b>
        
 <p>Vamos a crear un gráfico que contenga un boxplot, un histograma y un QQ-plot. Estos gráficos se utilizan para conocer el comportamiento de los datos y conocer principalmente si nuestros datos se ajustan a una distribución normal.</p>
        <ul>
            <li>Un diagrama de Caja-Bigotes (boxplots o box and whiskers) es una presentación visual que describe varias características importantes, al mismo tiempo, tales como la dispersión y simetría.</li>
            
            <li>Un histograma es una representación gráfica de una variable en forma de barras, donde la superficie de cada barra es proporcional a la frecuencia de los valores representados. Sirven para obtener una "primera vista" general, o panorama, de la distribución de la población, o de la muestra, respecto a una característica, cuantitativa y continua (como la longitud o el peso). </li>
            
            
            <li>un gráfico Q-Q ("Q" viene de cuantil) es un método gráfico para el diagnóstico de diferencias entre la distribución de probabilidad de una población de la que se ha extraído una muestra aleatoria y una distribución usada para la comparación. Un ejemplo del tipo de diferencias que pueden comprobarse es la no-normalidad de la distribución de una variable en una población. </li>
        
        </ul>
        
<div class="highlight"><pre style="color:#f8f8f2;background-color:#2f3445;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#a5a6aa">## Esta funcion crea un un gráfico que contenga un boxplot, un histograma y un QQ-plot</span>
<span style="color:#a5a6aa">## Cargamos los paquetes que vamos a utilizar</span>
<span style="color:#d887b4">library</span><span style="color:#c05c30">(</span><span style="color:#ffffff">dplyr</span><span style="color:#c05c30">)</span>
<span style="color:#d887b4">library</span><span style="color:#c05c30">(</span><span style="color:#ffffff">ggplot2</span><span style="color:#c05c30">)</span>
<span style="color:#d887b4">library</span><span style="color:#c05c30">(</span><span style="color:#ffffff">qqplotr</span><span style="color:#c05c30">)</span>
<span style="color:#d887b4">library</span><span style="color:#c05c30">(</span><span style="color:#ffffff">egg</span><span style="color:#c05c30">)</span>

<span style="color:#ffffff">box_hist_qq_plot</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#d887b4">function</span><span style="color:#c05c30">(</span><span style="color:#ffffff">data</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">var_fact</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">level</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">var_num</span><span style="color:#c05c30">)</span><span style="color:#c05c30">{</span>
    <span style="color:#a5a6aa">## Con dplyr vamos a filtrar el nivel de la variable factor y asignarlo a la variable sp</span>
    <span style="color:#a5a6aa">## para los paqueteria tydiverse el nombre de las columnas o variables van entre dos llaves {{}}</span>
    <span style="color:#ffffff">sp</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#ffffff">data</span> <span style="color:#7fa7bb">%>%</span>
        <span style="color:#ffffff">filter</span><span style="color:#c05c30">(</span><span style="color:#c05c30">{</span><span style="color:#c05c30">{</span><span style="color:#ffffff">var_fact</span><span style="color:#c05c30">}</span><span style="color:#c05c30">}</span> <span style="color:#7fa7bb">==</span> <span style="color:#ffffff">level</span><span style="color:#c05c30">)</span> 
    <span style="color:#a5a6aa">## Crear el boxplot</span> 
    <span style="color:#ffffff">box_p</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#ffffff">ggplot</span><span style="color:#c05c30">(</span><span style="color:#ffffff">data</span> <span style="color:#7fa7bb">=</span> <span style="color:#ffffff">sp</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">aes</span><span style="color:#c05c30">(</span><span style="color:#ffffff">y</span> <span style="color:#7fa7bb">=</span> <span style="color:#c05c30">{</span><span style="color:#c05c30">{</span><span style="color:#ffffff">var_num</span><span style="color:#c05c30">}</span><span style="color:#c05c30">}</span><span style="color:#c05c30">)</span><span style="color:#c05c30">)</span> <span style="color:#7fa7bb">+</span>
        <span style="color:#ffffff">geom_boxplot</span><span style="color:#c05c30">(</span><span style="color:#c05c30">)</span>
    <span style="color:#a5a6aa">## Crear el histograma</span>
    <span style="color:#ffffff">hist_p</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#ffffff">ggplot</span><span style="color:#c05c30">(</span><span style="color:#ffffff">data</span> <span style="color:#7fa7bb">=</span> <span style="color:#ffffff">sp</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">aes</span><span style="color:#c05c30">(</span><span style="color:#c05c30">{</span><span style="color:#c05c30">{</span><span style="color:#ffffff">var_num</span><span style="color:#c05c30">}</span><span style="color:#c05c30">}</span><span style="color:#c05c30">)</span><span style="color:#c05c30">)</span> <span style="color:#7fa7bb">+</span>
        <span style="color:#ffffff">geom_histogram</span><span style="color:#c05c30">(</span><span style="color:#ffffff">aes</span><span style="color:#c05c30">(</span><span style="color:#ffffff">y</span> <span style="color:#7fa7bb">=</span> <span style="color:#ffffff">..density..</span><span style="color:#c05c30">)</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">bins</span> <span style="color:#7fa7bb">=</span> <span style="color:#bdad6e">11</span><span style="color:#c05c30">)</span>
    <span style="color:#a5a6aa">## Crear el QQ-plot</span>   
    <span style="color:#ffffff">qq_p</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#ffffff">ggplot</span><span style="color:#c05c30">(</span><span style="color:#ffffff">data</span> <span style="color:#7fa7bb">=</span> <span style="color:#ffffff">sp</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">aes</span><span style="color:#c05c30">(</span><span style="color:#ffffff">sample</span> <span style="color:#7fa7bb">=</span> <span style="color:#c05c30">{</span><span style="color:#c05c30">{</span><span style="color:#ffffff">var_num</span><span style="color:#c05c30">}</span><span style="color:#c05c30">}</span><span style="color:#c05c30">)</span><span style="color:#c05c30">)</span> <span style="color:#7fa7bb">+</span>
        <span style="color:#ffffff">stat_qq_band</span><span style="color:#c05c30">(</span><span style="color:#ffffff">alpha</span> <span style="color:#7fa7bb">=</span> <span style="color:#bdad6e">0.5</span><span style="color:#c05c30">)</span> <span style="color:#7fa7bb">+</span>
        <span style="color:#ffffff">stat_qq_line</span><span style="color:#c05c30">(</span><span style="color:#c05c30">)</span> <span style="color:#7fa7bb">+</span>
        <span style="color:#ffffff">stat_qq_point</span><span style="color:#c05c30">(</span><span style="color:#c05c30">)</span> 
    <span style="color:#a5a6aa">## Fusionar los graficos en una sola figura</span>   
    <span style="color:#ffffff">figura</span> <span style="color:#7fa7bb">&#60&#45</span> <span style="color:#ffffff">ggarrange</span><span style="color:#c05c30">(</span><span style="color:#ffffff">box_p</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">hist_p</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">qq_p</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">labels</span> <span style="color:#7fa7bb">=</span> <span style="color:#ffffff">c</span><span style="color:#c05c30">(</span><span style="color:#bdad6e">"A"</span><span style="color:#ffffff">,</span> <span style="color:#bdad6e">"B"</span><span style="color:#ffffff">,</span> <span style="color:#bdad6e">"C"</span><span style="color:#c05c30">)</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">ncol</span> <span style="color:#7fa7bb">=</span> <span style="color:#bdad6e">2</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">nrow</span> <span style="color:#7fa7bb">=</span> <span style="color:#bdad6e">2</span><span style="color:#c05c30">)</span>
    
    <span style="color:#d887b4">return</span><span style="color:#c05c30">(</span><span style="color:#ffffff">figura</span><span style="color:#c05c30">)</span>
<span style="color:#c05c30">}</span>   
</code></pre></div>
        
        <p>Vamos a probar la función <b><code>box_hist_qq_plot()</code></b> que creamos, utilizando la base de datos <b><code>iris</code></b>.</p>   
        
<div class="highlight"><pre style="color:#f8f8f2;background-color:#2f3445;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#a5a6aa">## Realizar el grafico de boxplot, histograma y QQ-plot para la especie virginica 
## y la variable Petal.Width de la base de datos iris</span>
<span style="color:#ffffff">box_hist_qq_plot</span><span style="color:#c05c30">(</span><span style="color:#ffffff">data</span> <span style="color:#7fa7bb">=</span> <span style="color:#ffffff">iris</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">var_fact</span> <span style="color:#7fa7bb">=</span> <span style="color:#ffffff">Species</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">level</span> <span style="color:#7fa7bb">=</span> <span style="color:#bdad6e">"virginica"</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">var_num</span> <span style="color:#7fa7bb">=</span> <span style="color:#ffffff">Petal.Width</span><span style="color:#c05c30">)</span>
</code></pre></div>        
            
        
<img src="../../images/box_hist_qq.png" width="700">      
        

        <b><p>Guardar y llamar funciones con la función <b><code>source()</code></b>.</p></b>
        
    <p>Como vimos al principio crear una función nos ayuda a estructurar nuestro código y evitar scripts largos y/o complejos. Esto se logra al guardar las funciones y después llamarlas en nuestro nuevo script con la función <b><code>source()</code></b>. Como ejemplo utilizaremos la función <b><code>box_hist_qq_plot()</code></b> que creamos anteriormente, en RStudio guardamos la función en la carpeta bin (recomiendo utilizar <b><code>.r</code></b> para scripts y <b><code>.R</code></b> para funciones). </p>    
        
   <div class="highlight"><pre style="color:#f8f8f2;background-color:#2f3445;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#a5a6aa">## Realizar el grafico de boxplot, histograma y QQ-plot para el mes 5 
## y la variable Wind de la base de datos airquality
## llamar la funcion box_hist_qq_plot</span>
<span style="color:#d887b4">source</span><span style="color:#c05c30">(</span><span style="color:#bdad6e">"box_hist_qq_plot.R"</span><span style="color:#c05c30">)</span>
<span style="color:#ffffff">box_hist_qq_plot</span><span style="color:#c05c30">(</span><span style="color:#ffffff">data</span> <span style="color:#7fa7bb">=</span> <span style="color:#ffffff">airquality</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">var_fact</span> <span style="color:#7fa7bb">=</span> <span style="color:#ffffff">Month</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">level</span> <span style="color:#7fa7bb">=</span> <span style="color:#bdad6e">5</span><span style="color:#ffffff">,</span> <span style="color:#ffffff">var_num</span> <span style="color:#7fa7bb">=</span> <span style="color:#ffffff">Wind</span><span style="color:#c05c30">)</span>
</code></pre></div>      
        
<img src="../../images/air_qual_box.png" width="700">        
        
      </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Inicio</a></li>
         
          <li><a href="/apuntes_R/">Apuntes sobre R</a></li>
         
          <li><a href="/temas">Temas</a></li>
         
          <li><a href="/conoceme">Conóceme</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents"></nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
          
  
   <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fcristoichkov.github.io%2fapuntes_R%2foperaciones_aritmeticas_basicas%2f">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fcristoichkov.github.io%2fapuntes_R%2foperaciones_aritmeticas_basicas%2f&text=Operaciones%20aritméticas%20básicas">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2020  Cristian Cervantes
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Inicio</a></li>
         
        <li><a href="/apuntes_R/">Apuntes sobre R</a></li>
         
        <li><a href="/temas">Temas</a></li>
         
        <li><a href="/conoceme">Conóceme</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/js/main.js"></script>



</html>
